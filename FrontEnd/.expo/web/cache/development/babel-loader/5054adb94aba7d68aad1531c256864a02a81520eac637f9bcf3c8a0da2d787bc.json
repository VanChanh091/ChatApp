{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nvar _jsxFileName = \"D:\\\\20045291\\\\CNM\\\\BTL\\\\realtime-chat-app-main\\\\FrontEnd\\\\components\\\\FriendRequest.js\",\n  _this = this;\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport React, { useContext } from \"react\";\nimport { UserType } from \"../UserContext\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar FriendRequest = function FriendRequest(_ref) {\n  var item = _ref.item,\n    friendRequests = _ref.friendRequests,\n    setFriendRequests = _ref.setFriendRequests;\n  var _useContext = useContext(UserType),\n    userId = _useContext.userId,\n    setUserId = _useContext.setUserId;\n  var navigation = useNavigation();\n  var acceptRequest = function () {\n    var _ref2 = _asyncToGenerator(function* (friendRequestId) {\n      try {\n        var response = yield fetch(\"http://localhost:8000/friend-request/accept\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            senderId: friendRequestId,\n            recepientId: userId\n          })\n        });\n        if (response.ok) {\n          setFriendRequests(friendRequests.filter(function (request) {\n            return request._id !== friendRequestId;\n          }));\n          navigation.navigate(\"Chats\");\n        }\n      } catch (err) {\n        console.log(\"error acceptin the friend request\", err);\n      }\n    });\n    return function acceptRequest(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxDEV(Pressable, {\n    style: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      marginVertical: 10\n    },\n    children: [_jsxDEV(Image, {\n      style: {\n        width: 50,\n        height: 50,\n        borderRadius: 25\n      },\n      source: {\n        uri: item.image\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, _this), _jsxDEV(Text, {\n      style: {\n        fontSize: 15,\n        fontWeight: \"bold\",\n        marginLeft: 10,\n        flex: 1\n      },\n      children: [item == null ? void 0 : item.name, \" sent you a friend request!!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, _this), _jsxDEV(Pressable, {\n      onPress: function onPress() {\n        return acceptRequest(item._id);\n      },\n      style: {\n        backgroundColor: \"#0066b2\",\n        padding: 10,\n        borderRadius: 6\n      },\n      children: _jsxDEV(Text, {\n        style: {\n          textAlign: \"center\",\n          color: \"white\"\n        },\n        children: \"Accept\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, _this);\n};\nexport default FriendRequest;\nvar styles = StyleSheet.create({});","map":{"version":3,"names":["React","useContext","UserType","useNavigation","jsxDEV","_jsxDEV","FriendRequest","_ref","item","friendRequests","setFriendRequests","_useContext","userId","setUserId","navigation","acceptRequest","_ref2","_asyncToGenerator","friendRequestId","response","fetch","method","headers","body","JSON","stringify","senderId","recepientId","ok","filter","request","_id","navigate","err","console","log","_x","apply","arguments","Pressable","style","flexDirection","alignItems","justifyContent","marginVertical","children","Image","width","height","borderRadius","source","uri","image","fileName","_jsxFileName","lineNumber","columnNumber","_this","Text","fontSize","fontWeight","marginLeft","flex","name","onPress","backgroundColor","padding","textAlign","color","styles","StyleSheet","create"],"sources":["D:/20045291/CNM/BTL/realtime-chat-app-main/FrontEnd/components/FriendRequest.js"],"sourcesContent":["import { StyleSheet, Text, View, Pressable, Image } from \"react-native\";\nimport React, { useContext } from \"react\";\nimport { UserType } from \"../UserContext\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nconst FriendRequest = ({ item, friendRequests, setFriendRequests }) => {\n  const { userId, setUserId } = useContext(UserType);\n  const navigation = useNavigation();\n  const acceptRequest = async (friendRequestId) => {\n    try {\n      const response = await fetch(\n        \"http://localhost:8000/friend-request/accept\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            senderId: friendRequestId,\n            recepientId: userId,\n          }),\n        }\n      );\n\n      if (response.ok) {\n        setFriendRequests(\n          friendRequests.filter((request) => request._id !== friendRequestId)\n        );\n        navigation.navigate(\"Chats\");\n      }\n    } catch (err) {\n      console.log(\"error acceptin the friend request\", err);\n    }\n  };\n  return (\n    <Pressable\n      style={{\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        marginVertical: 10,\n      }}\n    >\n      <Image\n        style={{ width: 50, height: 50, borderRadius: 25 }}\n        source={{ uri: item.image }}\n      />\n\n      <Text\n        style={{ fontSize: 15, fontWeight: \"bold\", marginLeft: 10, flex: 1 }}\n      >\n        {item?.name} sent you a friend request!!\n      </Text>\n\n      <Pressable\n        onPress={() => acceptRequest(item._id)}\n        style={{ backgroundColor: \"#0066b2\", padding: 10, borderRadius: 6 }}\n      >\n        <Text style={{ textAlign: \"center\", color: \"white\" }}>Accept</Text>\n      </Pressable>\n    </Pressable>\n  );\n};\n\nexport default FriendRequest;\n\nconst styles = StyleSheet.create({});\n"],"mappings":";;;;;;;;AACA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,QAAQ,QAAQ,gBAAgB;AACzC,SAASC,aAAa,QAAQ,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzD,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAAC,IAAA,EAAoD;EAAA,IAA9CC,IAAI,GAAAD,IAAA,CAAJC,IAAI;IAAEC,cAAc,GAAAF,IAAA,CAAdE,cAAc;IAAEC,iBAAiB,GAAAH,IAAA,CAAjBG,iBAAiB;EAC9D,IAAAC,WAAA,GAA8BV,UAAU,CAACC,QAAQ,CAAC;IAA1CU,MAAM,GAAAD,WAAA,CAANC,MAAM;IAAEC,SAAS,GAAAF,WAAA,CAATE,SAAS;EACzB,IAAMC,UAAU,GAAGX,aAAa,CAAC,CAAC;EAClC,IAAMY,aAAa;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,WAAOC,eAAe,EAAK;MAC/C,IAAI;QACF,IAAMC,QAAQ,SAASC,KAAK,CAC1B,6CAA6C,EAC7C;UACEC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBC,QAAQ,EAAER,eAAe;YACzBS,WAAW,EAAEf;UACf,CAAC;QACH,CACF,CAAC;QAED,IAAIO,QAAQ,CAACS,EAAE,EAAE;UACflB,iBAAiB,CACfD,cAAc,CAACoB,MAAM,CAAC,UAACC,OAAO;YAAA,OAAKA,OAAO,CAACC,GAAG,KAAKb,eAAe;UAAA,EACpE,CAAC;UACDJ,UAAU,CAACkB,QAAQ,CAAC,OAAO,CAAC;QAC9B;MACF,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEF,GAAG,CAAC;MACvD;IACF,CAAC;IAAA,gBAzBKlB,aAAaA,CAAAqB,EAAA;MAAA,OAAApB,KAAA,CAAAqB,KAAA,OAAAC,SAAA;IAAA;EAAA,GAyBlB;EACD,OACEjC,OAAA,CAACkC,SAAS;IACRC,KAAK,EAAE;MACLC,aAAa,EAAE,KAAK;MACpBC,UAAU,EAAE,QAAQ;MACpBC,cAAc,EAAE,eAAe;MAC/BC,cAAc,EAAE;IAClB,CAAE;IAAAC,QAAA,GAEFxC,OAAA,CAACyC,KAAK;MACJN,KAAK,EAAE;QAAEO,KAAK,EAAE,EAAE;QAAEC,MAAM,EAAE,EAAE;QAAEC,YAAY,EAAE;MAAG,CAAE;MACnDC,MAAM,EAAE;QAAEC,GAAG,EAAE3C,IAAI,CAAC4C;MAAM;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,GAAAC,KAC7B,CAAC,EAEFpD,OAAA,CAACqD,IAAI;MACHlB,KAAK,EAAE;QAAEmB,QAAQ,EAAE,EAAE;QAAEC,UAAU,EAAE,MAAM;QAAEC,UAAU,EAAE,EAAE;QAAEC,IAAI,EAAE;MAAE,CAAE;MAAAjB,QAAA,GAEpErC,IAAI,oBAAJA,IAAI,CAAEuD,IAAI,EAAC,8BACd;IAAA;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,GAAAC,KAAM,CAAC,EAEPpD,OAAA,CAACkC,SAAS;MACRyB,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMjD,aAAa,CAACP,IAAI,CAACuB,GAAG,CAAC;MAAA,CAAC;MACvCS,KAAK,EAAE;QAAEyB,eAAe,EAAE,SAAS;QAAEC,OAAO,EAAE,EAAE;QAAEjB,YAAY,EAAE;MAAE,CAAE;MAAAJ,QAAA,EAEpExC,OAAA,CAACqD,IAAI;QAAClB,KAAK,EAAE;UAAE2B,SAAS,EAAE,QAAQ;UAAEC,KAAK,EAAE;QAAQ,CAAE;QAAAvB,QAAA,EAAC;MAAM;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,GAAAC,KAAM;IAAC;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,GAAAC,KAC1D,CAAC;EAAA;IAAAJ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,GAAAC,KACH,CAAC;AAEhB,CAAC;AAED,eAAenD,aAAa;AAE5B,IAAM+D,MAAM,GAAGC,UAAU,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}